<!doctype html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Birthday Cake ğŸ‘‘</title>
    <link rel="icon" type="image/svg+xml"
      href="data:image/svg+xml,
      <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'>
        <text y='0.9em' font-size='90'>ğŸ‚</text>
      </svg>">

    <link rel="stylesheet" href="style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


</head>
<script>
document.addEventListener("DOMContentLoaded", () => {
    const startBtn = document.getElementById("start");
    const cakeHolder = document.getElementById("cake-holder");
    const cakeContent = document.getElementById("cake-content");
    

    startBtn.textContent = "báº¥m vÃ o Ä‘Ã¢y Ä‘á»ƒ phÃ¹ phÃ©p âœ¨";

    startBtn.addEventListener("click", () => {
        const flame = document.querySelector(".flame");

        // Náº¿u bÃ¡nh chÆ°a hiá»‡n â†’ hiá»‡n bÃ¡nh
        cakeContent.style.opacity = "1";
        cakeContent.style.pointerEvents = "auto";

        cakeHolder.style.opacity = "1";

        // ğŸ”¥ Náº¿u náº¿n Ä‘ang táº¯t â†’ báº­t láº¡i
        if (flame && flame.classList.contains("off")) {
            relightCandle();
            startBtn.textContent = "Ãšm ba la thá»•i náº¿n tiáº¿p nÃ¨ âœ¨";
        } else {
            startBtn.textContent = "Ãšm ba la bÃ¡nh sinh nháº­t hiá»‡n ra... ğŸ‚";
        }
    });
});
</script>


<body class="text-center">
    <!-- MIC WARNING DIALOG -->
    <div id="mic-warning" class="mic-warning hidden">
        ğŸ”” Náº¿n ráº¥t dá»… táº¯t bá»Ÿi Ã¢m thanh lá»›n,<br>
        hÃ£y cáº©n tháº­n nhÃ©!
    </div>
    <!-- WISH MESSAGE -->
    <div id="wish-message" class="wish-message hidden">
        â¤ Æ¯á»›c trÆ°á»›c khi thá»•i náº¿n nhÃ©!!! â¤
    </div>


    <!-- LOGIN OVERLAY -->
    <div id="login-overlay">
        <div class="login-card">
            <div class="big-heart">ğŸ‚</div>
            <h2>ğŸ’ DÃ nh cho HÃ  Ly ğŸ’</h2>
            <p>Nháº­p ngÃ y sinh cá»§a HL Ä‘á»ƒ má»Ÿ quÃ  nhÃ©!</p>

            <input id="login-password" type="text" inputmode="numeric" maxlength="10" placeholder="dd/mm/yyyy">

            <div id="login-error">Sai máº­t kháº©u rá»“i! Thá»­ láº¡i nhÃ© ğŸ’•</div>

            <button onclick="checkPassword()">Má»Ÿ quÃ  ğŸ</button>

            <small>Gá»£i Ã½: 12/02/2003 ğŸ’•</small>
        </div>
    </div>

    <!-- ================== CAKE CONTENT ================== -->
    <div id="cake-content">
        <h1>Birthday Cake ğŸ‚</h1>
        <br>
        <button id="start">báº¥m vÃ o Ä‘Ã¢y Ä‘á»ƒ phÃ¹ phÃ©p âœ¨</button>
        <button style="display: none" id="startconsoledebug">enable console logs</button>
        <button style="display: none" id="stopconsoledebug">disable console logs</button>
        <br>
        <br>
        <h5 id="birthday-text" class="cake-off">â£ Happy Birthday HÃ  Ly â£ </h5>
        <div id="cake-holder" style="opacity: 0">
            <div class="cake">
                <div class="plate"></div>
                <div class="layer layer-bottom"></div>
                <div class="layer layer-middle"></div>
                <div class="layer layer-top"></div>
                <div class="icing"></div>
                <div class="drip drip1"></div>
                <div class="drip drip2"></div>
                <div class="drip drip3"></div>
                <div class="candle">
                    <div class="flame"></div>
                </div>
            </div>
            

        </div>
    </div>



    <script src="cake.js"></script>
    <script src="volume-meter.js"></script>
    <script src="audioDetectionConfig.js"></script>
    <script src="audioDetection.js"></script>
    <script src="audioStream.js"></script>

    <script src="demoAudioRecorder.js"></script>
    <script src="demoAudioDetectionListeners.js"></script>
    <script src="demo.js"></script>
    <script src="snow.js"></script>
    <script>
        const ua = navigator.userAgent || navigator.vendor || window.opera;
        const isMessenger = /FBAN|FBAV|Messenger/i.test(ua);

        if (isMessenger) {
            document.documentElement.classList.add("in-messenger");
        }
        </script>
</body>

</html>
